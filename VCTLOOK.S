*       "VCTLOOK.S"
*       INTERRUPT VECTOR check program
*       created 89/07/09 by AWED
*       :: This is public domain soft. ::

        text
vct_check:
        pea     start_msg
        dc.w    $ff09
        addq.l  #4,sp

	move.l	#53,d5	*loop number 54
	lea.l	vct_num,a1
	lea.l	data_msg,a2
loop:
	move.w	(a1)+,-(SP)
	DC.W	$ff35	*vector read
	ADDQ.L	#2,SP

        move.l  d0,d4   * d4=vector value

        bsr     disp_hex
        bsr     slush

        move.l	a2,-(sp)
	adda.l	#79,a2
        dc.w    $ff09
        addq.l  #4,sp

	dbra	d5,loop

        dc.w    $ff00

* The number to be converted to characters is in D4

disp_hex:
	moveq	#7,d1	*use d0 as loop counter
	
l1:	rol.l	#4,d4	*Get next nibble to bottom of d4        
        
	move.b	d4,d2
	andi.l	#$f,d2
	cmpi.b	#$a,d2
	bge	J2
	addi.b	#$30,d2
	bra	next
J2:
	addi.b	#$37,d2	

next:	move.w  d2,-(sp)
        dc.w    $ff02
        addq.l  #2,sp

	dbra	d1,l1

        rts

slush:
        move.w  #'/',-(sp)
        dc.w    $ff02
        addq.l  #2,sp
        rts

        .data
	.even
start_msg:
	dc.b	'システム関係の割り込みベクターは、次のようになっています。',13,10
	dc.b	' 値     /address.(No.)    使用用途',13,10,0  
.even
vct_num:dc.w	$0b,$1f,$28,$29,$2a,$2b,$2c,$2d,$2e,$2f,$40,$41,$42,$43,$44,$45,$46,$47,$48
	dc.w	$49,$4a,$4b,$4c,$4d,$4e,$4f,$50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$5a,$5b
	dc.w	$5c,$5d,$5e,$5f,$60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$6a,$6b,$6c
data_msg:
	dc.b	' 00002C.($0B)Ｆ系未実装命令トラップベクタ－                                 ',13,10,0
	dc.b	' 00007C.($1F)ＮＭＩ割り込み７トラップベクタ－                               ',13,10,0 
	dc.b	' 0000A0.($28)ＴＲＡＰ　８（ＲＯＭモニタ・ブレークポイント）                 ',13,10,0
	dc.b	' 0000A4.($29)ＴＲＡＰ　９（ＯＳ用ＤＢ・ブレークポイント）                   ',13,10,0
	dc.b	' 0000A8.($2A)ＴＲＡＰ１０（POWER OFF or リセット処理）                      ',13,10,0
	dc.b	' 0000AC.($2B)ＴＲＡＰ１１（STOPキーによるＨＤＯＦＦ処理、その他）           ',13,10,0
	dc.b	' 0000B0.($2C)ＴＲＡＰ１２（COPYキーによるＨＣＯＰＹ処理、その他）           ',13,10,0
	dc.b	' 0000B4.($2D)ＴＲＡＰ１３（CTRL+Cキーによるブレークチェックフラグのセット） ',13,10,0
	dc.b	' 0000B8.($2E)ＴＲＡＰ１４（エラー表示と、中止・再実行・無視の選択処理）     ',13,10,0
	dc.b	' 0000BC.($2F)ＴＲＡＰ１５（ＩＯＣＳファンクションコール処理）               ',13,10,0
	dc.b	' 000100.($40)ＭＦＰ（ＲＴＣアラーム／１Ｈｚ）                               ',13,10,0
	dc.b	' 000104.($41)ＭＦＰ（外部パワーＯＦＦ）                                     ',13,10,0
	dc.b	' 000108.($42)ＭＦＰ（フロントスイッチＯＦＦ）                               ',13,10,0
	dc.b	' 00010C.($43)ＭＦＰ（ＦＭ音源）                                             ',13,10,0
	dc.b	' 000110.($44)ＭＦＰ（タイマーＤ）                                           ',13,10,0
	dc.b	' 000114.($45)ＭＦＰ（タイマーＣ．マウスＲＴＳ/カーソル/ＦＤパワー/他）      ',13,10,0
	dc.b	' 000118.($46)ＭＦＰ（Ｖ－ＤＩＳＰ）                                         ',13,10,0
	dc.b	' 00011C.($47)ＭＦＰ（？？？？）ＲＴＣクロック                               ',13,10,0
	dc.b	' 000120.($48)ＭＦＰ（タイマーＢ）                                           ',13,10,0
	dc.b	' 000124.($49)ＭＦＰ（キーシリアル出力エラー）                               ',13,10,0
	dc.b	' 000128.($4A)ＭＦＰ（キーシリアル出力空）                                   ',13,10,0
	dc.b	' 00012C.($4B)ＭＦＰ（キーシリアル入力エラー）                               ',13,10,0
	dc.b	' 000130.($4C)ＭＦＰ（キーシリアル入力あり）                                 ',13,10,0
	dc.b	' 000134.($4D)ＭＦＰ（タイマーＡ）                                           ',13,10,0
	dc.b	' 000138.($4E)ＭＦＰ（ＣＲＣＴ・ＩＲＱ）                                     ',13,10,0
	dc.b	' 00013C.($4F)ＭＦＰ（Ｈ－ＳＹＮＣ）                                         ',13,10,0
	dc.b	' 000140.($50)ＳＣＣＢ                                                       ',13,10,0
	dc.b	' 000144.($51)ＳＣＣＢ                                                       ',13,10,0
	dc.b	' 000148.($52)ＳＣＣＢ                                                       ',13,10,0
	dc.b	' 00014C.($53)ＳＣＣＢ                                                       ',13,10,0
	dc.b	' 000150.($54)ＳＣＣＢ（マウス１バイト入力）                                 ',13,10,0
	dc.b	' 000154.($55)ＳＣＣＢ（マウス１バイト入力）                                 ',13,10,0
	dc.b	' 000158.($56)ＳＣＣＢ                                                       ',13,10,0
	dc.b	' 00015C.($57)ＳＣＣＢ                                                       ',13,10,0
	dc.b	' 000160.($58)ＳＣＣＡ                                                       ',13,10,0
	dc.b	' 000164.($59)ＳＣＣＡ                                                       ',13,10,0
	dc.b	' 000168.($5A)ＳＣＣＡ                                                       ',13,10,0
	dc.b	' 00016C.($5B)ＳＣＣＡ                                                       ',13,10,0
	dc.b	' 000170.($5C)ＳＣＣＡ（２３２Ｃ１バイト入力）                               ',13,10,0
	dc.b	' 000174.($5D)ＳＣＣＡ（２３２Ｃ１バイト入力）                               ',13,10,0
	dc.b	' 000178.($5E)ＳＣＣＡ                                                       ',13,10,0
	dc.b	' 00017C.($5F)ＳＣＣＡ                                                       ',13,10,0
	dc.b	' 000180.($60)ＦＤＣＩＮＴ（２ＨＤディスクのステータス割り込み）             ',13,10,0
	dc.b	' 000184.($61)ＦＤＤＩＮＴ（２ＨＤディスクの挿入／排出割り込み）             ',13,10,0
	dc.b	' 000188.($62)ＨＤＣＩＮＴ（ハードディスクのステータス割り込み）             ',13,10,0
	dc.b	' 00018C.($63)ＰＲＮＩＮＴ（プリンターのレディー割り込み）                   ',13,10,0
	dc.b	' 000190.($64)ＤＭＡ－Ａ終わり                                               ',13,10,0
	dc.b	' 000194.($65)ＤＭＡ－Ａエラー                                               ',13,10,0
	dc.b	' 000198.($66)ＤＭＡ－Ｂ終わり                                               ',13,10,0
	dc.b	' 00019C.($67)ＤＭＡ－Ｂエラー                                               ',13,10,0
	dc.b	' 0001A0.($68)ＤＭＡ－Ｃ終わり                                               ',13,10,0
	dc.b	' 0001A4.($69)ＤＭＡ－Ｃエラー                                               ',13,10,0
	dc.b	' 0001A8.($6A)ＤＭＡ－Ｄ終わり                                               ',13,10,0
	dc.b	' 0001AC.($6B)ＤＭＡ－Ｄエラー                                               ',13,10,0


	.end
